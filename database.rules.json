{
    "rules": {
        ".read": true,
        "Arrivals": {
          ".indexOn": ["profileKey", "projectKey"]
        },
        "Engagements": {
          ".indexOn": ["profileKey", "oppKey", "transaction/id"]
        },
        "Shifts": {
          ".indexOn": "teamKey"
        },
        "Opps": {
          ".indexOn": "projectKey"
        },
        "Profiles": {
          ".indexOn": "uid"
        },
        "Projects": {
          ".indexOn": "ownerProfileKey"
        },
        "Teams": {
          ".indexOn": "projectKey"
        },
        "Commitments": {
          ".indexOn": "oppKey"
        },
        "Assignments": {
          ".indexOn": ["profileKey", "shiftKey", "oppKey", "engagementKey"]
        },
        "Memberships": {
          ".indexOn": ["engagementKey", "teamKey"]
        },
        "Organizers": {
          ".indexOn": ["projectKey", "profileKey"]
        },
        "!queue": {
          "tasks": {
            ".indexOn": "_state",
            "$taskId": {
              ".write": true,
              ".validate": "newData.child('uid').val() == auth.uid"
            }
          },
          "responses": {
            "$taskId": {
              ".write": true
            }
          },
          "brokenResponses": {
            "$taskId": {
              ".write": true,
              ".validate": "(newData.child('uid').val() == auth.uid) || ((newData.val() == null) && (data.child('uid').val() == auth.uid))"
            }
          }          
        }
    }
}
